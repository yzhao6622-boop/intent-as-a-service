# 检查前端服务状态

## 方法1：检查端口是否在监听

在 PowerShell 或 CMD 中运行：

```cmd
netstat -ano | findstr :5173
```

**如果看到类似输出，说明服务正在运行：**
```
TCP    0.0.0.0:5173           0.0.0.0:0              LISTENING       64996
```

**如果没有输出，说明服务未运行。**

---

## 方法2：测试本地访问

在 PowerShell 中运行：

```powershell
Invoke-WebRequest -Uri http://localhost:5173 -UseBasicParsing
```

**如果成功**，会返回状态码 200 和 HTML 内容。

**如果失败**，会显示连接错误。

---

## 方法3：使用浏览器测试

在服务器上打开浏览器，访问：
```
http://localhost:5173
```

如果能看到登录页面，说明服务正常。

---

## 方法4：检查进程

在 PowerShell 中运行：

```powershell
Get-Process | Where-Object {$_.ProcessName -like "*node*"}
```

查看是否有 Node.js 进程在运行。

---

## 方法5：查看服务日志

如果使用 `npm run dev` 启动，查看运行服务的终端窗口，应该看到：

```
VITE v7.3.0  ready in 382 ms

➜  Local:   http://localhost:5173/
➜  Network: use --host to expose
```

如果看到 "Network" 地址，说明已配置为允许外部访问。

---

## 快速检查脚本

创建一个 `检查服务.bat` 文件：

```batch
@echo off
echo 检查前端服务（端口 5173）...
netstat -ano | findstr :5173
if %errorLevel% equ 0 (
    echo [状态] 前端服务正在运行
) else (
    echo [状态] 前端服务未运行
    echo 请运行: cd client && npm run dev
)
pause
```

---

## 常见问题

### Q: 端口在监听但无法访问？

**可能原因**：
1. Vite 只监听 localhost（需要配置 `host: '0.0.0.0'`）
2. Windows 防火墙阻止
3. 安全组未开放端口

**解决**：
1. 检查 `client/vite.config.ts` 是否有 `host: '0.0.0.0'`
2. 重启前端服务
3. 检查防火墙和安全组

### Q: 如何重启前端服务？

1. 找到运行前端服务的终端窗口
2. 按 `Ctrl+C` 停止
3. 重新运行：`cd client && npm run dev`

---

## 完整检查清单

- [ ] 端口 5173 在监听
- [ ] 可以从 localhost 访问
- [ ] Vite 配置了 `host: '0.0.0.0'`
- [ ] Windows 防火墙已允许
- [ ] 安全组已开放 5173 端口
- [ ] 可以从外部 IP 访问
